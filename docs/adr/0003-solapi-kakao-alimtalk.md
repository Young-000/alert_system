# ADR 0003: Solapi 카카오 알림톡 선택

## 상태
승인됨 (2026-01-18)

## 컨텍스트
사용자에게 날씨, 교통 정보를 알리는 메시징 채널이 필요합니다. 요구사항:

1. 한국 사용자 대상 (한국어)
2. 높은 도달률 (SMS/이메일보다 높은 확인률)
3. 비용 효율적
4. 빠른 발송 (실시간)

## 결정
Solapi를 통한 카카오 알림톡을 선택했습니다.

## 대안 검토

| 옵션 | 장점 | 단점 | 결정 |
|------|------|------|------|
| SMS | 범용, 간단 | 건당 20원+, 낮은 확인률 | ❌ 기각 |
| 이메일 | 무료 | 확인률 10% 이하 | ❌ 기각 |
| FCM Push | 무료 | 앱 설치 필요, 거부율 높음 | ⚠️ 보조 |
| **카카오 알림톡** | 건당 8원, 확인률 90%+ | 템플릿 승인 필요 | ✅ 선택 |

## 근거

1. **높은 도달률**: 카카오톡 사용률 95%+ (한국)
2. **비용 효율**: SMS 대비 60% 저렴
3. **신뢰도**: 공식 채널로 스팸 차단 우회
4. **Solapi**: 국내 최대 메시징 플랫폼, 안정성 검증

## 구현

### 템플릿 설정
- **PF ID**: `KA01PF260118103514818QktedIWetBs`
- **Template ID**: `KA01TP2601181035243285qjwlwSLm5X`

### 메시지 형식
```
[출근 알림]
안녕하세요, #{name}님!

🌡️ 현재 날씨: #{weather}
🌡️ 현재 기온: #{temperature}°C
💨 미세먼지: #{airQuality}

좋은 하루 되세요! 🚀
```

## 결과

### 긍정적
- 알림 확인률 90% 이상
- 사용자 피드백 긍정적
- 비용 월 1,000원 이하 (100건 기준)

### 부정적
- 템플릿 변경 시 재승인 필요 (1-2일)
- 카카오 정책 변경 리스크

## 참조
- [Solapi 알림톡 문서](https://docs.solapi.com/alimtalk)
- [카카오 알림톡 정책](https://kakaobusiness.gitbook.io/)
