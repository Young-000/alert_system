# Auto E2E Review - 2026-02-25 08:00

## 이전 리뷰
- 파일: `20260224_080005.md`
- 이전 미해결: 5건 (권고사항)

## 리뷰 결과

| Phase | 상태 | 수정 | 미해결 |
|-------|------|------|--------|
| Phase 1: Build & Lint | ✅ 통과 | 0건 | 0 |
| Phase 2: Security | ✅ 통과 | 0건 | 0 |
| Phase 3: Performance | ✅ 통과 | 0건 | 0 |
| Phase 4: UX 핵심 플로우 | ✅ 통과 | 0건 | 0 |
| Phase 5: UX 에러 복구 | ✅ 통과 | 0건 | 0 |
| Phase 6: UX 상태 표시 | ✅ 통과 | 0건 | 0 |
| Phase 7: DB & 스키마 | ✅ 수정 | 1건 | 0 |
| Phase 8: PWA & 알림 | ✅ 통과 | 0건 | 0 |

## 수정 내역

### Phase 7: DB 엔티티 일관성 (1건)

1. `backend/src/infrastructure/persistence/database.config.ts` — `CommuteStreakOrmEntity`와 `StreakDailyLogOrmEntity`가 `commute.module.ts`의 `TypeOrmModule.forFeature()`에는 등록되어 있으나, `database.config.ts`의 명시적 엔티티 목록(SQLite/PostgreSQL 양쪽)에서 누락됨. `autoLoadEntities: true` 덕분에 런타임 동작에는 문제없으나, 엔티티 목록 일관성을 위해 양쪽 배열에 추가.

## 미해결 이슈

### 이전 리뷰 권고사항 (변경 없음)

1. **[Phase 2] 알림톡 템플릿 ID 하드코딩** — `backend/src/infrastructure/messaging/solapi.service.ts`. 환경변수 마이그레이션 권장하나 공개 정보이므로 보안 위험 없음.

2. **[Phase 5] 500 에러 메시지 통칭 처리** — API 클라이언트가 상태코드만 throw하므로 상세 메시지 전달 제한.

3. **[Phase 5] 외부 API 실패 시 폴백 부재** — 날씨/교통 API 실패 시 캐시 데이터 활용 미흡.

4. **[Phase 5] 새로고침 시 폼 상태 미보존** — RouteSetupPage, CommuteTrackingPage에서 sessionStorage 미활용.

5. **[Phase 6] 모바일 터치 타겟** — 일부 아이콘 버튼이 Apple 권장 44px 미만.

## 검증 결과 상세

### Frontend
| 항목 | 결과 |
|------|------|
| lint | ✅ 에러 0 |
| typecheck | ✅ 에러 0 |
| build | ✅ gzip ~157KB (제한 500KB) |
| test | ✅ 28 suites, 381 passed |

### Backend
| 항목 | 결과 |
|------|------|
| lint | ✅ 에러 0 |
| build | ✅ 성공 |
| test | ✅ 68 suites, 767 passed, 3 skipped |

## Phase별 점검 요약

### Phase 2: Security
- JWT 글로벌 Guard (APP_GUARD) + @Public() 데코레이터 ✅
- CORS 명시적 화이트리스트 (Vercel 정규식 포함) ✅
- Helmet CSP + Rate Limiting (ThrottlerModule) ✅
- ValidationPipe (whitelist + forbidNonWhitelisted) ✅
- bcrypt 비밀번호 해싱 + timingSafeEqual ✅
- SSM Parameter Store 시크릿 관리 ✅
- RLS 전체 테이블 활성화 ✅

### Phase 3: Performance
- 12개 페이지 전체 lazy loading + idle preload (3초 후 4개 주요 페이지) ✅
- 번들 gzip ~157KB (500KB 미만) ✅
- Vite manual chunks: vendor-react, vendor-router, vendor-query ✅
- API 캐싱: 날씨/대기질 1시간, 지하철/버스 30초 ✅
- N+1 쿼리 미발견 (relations eager loading) ✅
- SVG 아이콘 사용 (래스터 이미지 없음) ✅

### Phase 4-6: UX
- 조건부 렌더링 모순 없음 ✅
- 이벤트 핸들러 바인딩 정상 ✅
- 중복 요청 방지 (isSaving, isLoading, isEditing) ✅
- 오프라인 배너 (OfflineBanner + useOnlineStatus) ✅
- 401/403 에러 구분 처리 ✅
- 404 페이지 + 와일드카드 라우트 ✅
- 토스트 메시지 (4초 auto-dismiss + 프로그레스 바) ✅
- 스켈레톤 UI + PageLoader ✅
- EmptyState 재사용 컴포넌트 ✅
- AuthRequired 컴포넌트 ✅

### Phase 7: DB & Schema
- 29개 엔티티 모두 `alert_system` 스키마 사용 ✅
- public 스키마 사용 없음 ✅
- database.config.ts 엔티티 목록 일관성 수정 ✅
- RLS 정책 적절 (users, alerts, push_subscriptions) ✅

### Phase 8: PWA & Notifications
- VitePWA injectManifest 모드 ✅
- 서비스 워커 캐싱 전략 (NetworkFirst/CacheFirst/StaleWhileRevalidate) ✅
- VAPID 푸시 알림 ✅
- EventBridge Scheduler 영구 스케줄 ✅
- Solapi 알림톡 6개 템플릿 ✅

## 통계
- 총 체크: 42건 / 통과: 41건 / 수정: 1건 / 미해결: 5건 (이전 권고사항 유지)
